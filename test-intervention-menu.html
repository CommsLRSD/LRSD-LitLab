<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Intervention Menu</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div style="padding: 2rem; max-width: 1200px; margin: 0 auto;">
        <h1>Test Intervention Menu</h1>
        <button onclick="testMenu()" style="padding: 1rem 2rem; font-size: 1.1rem; margin-bottom: 2rem; cursor: pointer;">
            Open Intervention Menu
        </button>
        
        <!-- Copy the exact structure from index.html for the intervention menu -->
        <div id="interventions-menu-full-view" class="interventions-detail-view" style="display: none;">
            <div class="interventions-header-compact">
                <button class="back-button" onclick="closeMenu()" aria-label="Close menu">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back
                </button>
                <h2 class="section-title">Interventions & Assessments Menu</h2>
                <p class="section-subtitle">Find literacy interventions and assessments based on your screening results</p>
            </div>

            <!-- Use the same structure as index.html -->
            <div class="single-page-steps">
                <!-- This will be populated from index.html structure -->
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        function testMenu() {
            const menuView = document.getElementById('interventions-menu-full-view');
            if (menuView) {
                menuView.style.display = 'block';
                if (typeof initializeStepBasedMenu === 'function') {
                    initializeStepBasedMenu();
                }
            }
        }
        
        function closeMenu() {
            const menuView = document.getElementById('interventions-menu-full-view');
            if (menuView) {
                menuView.style.display = 'none';
            }
        }
        
        // Load intervention menu data on page load
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch('data/intervention-menu.json');
                if (!response.ok) throw new Error('Failed to load intervention menu data');
                window.appState = window.appState || {};
                window.appState.interventionMenuData = await response.json();
                console.log('Test: Intervention menu data loaded successfully');
            } catch (error) {
                console.error('Test: Error loading intervention menu data:', error);
            }
        });
    </script>
</body>
</html>
